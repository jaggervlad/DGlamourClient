{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\DGlamour\\\\client\\\\pages\\\\editarcliente\\\\[id].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Layout from '../../component/Layout';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport Swal from 'sweetalert2';\nimport { OBTENER_CLIENTE, ACTUALIZAR_CLIENTE, OBTENER_CLIENTES } from '../../graphql/clientes';\nexport default function EditarCliente() {\n  _s();\n\n  var _this = this;\n\n  var router = useRouter();\n  var id = router.query.id;\n\n  var _useQuery = useQuery(OBTENER_CLIENTE, {\n    variables: {\n      id: id\n    }\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  var _useMutation = useMutation(ACTUALIZAR_CLIENTE, {\n    update: function update(cache, _ref) {\n      var actualizarCliente = _ref.data;\n\n      var _cache$readQuery = cache.readQuery({\n        query: OBTENER_CLIENTES\n      }),\n          obtenerClientes = _cache$readQuery.obtenerClientes;\n\n      cache.writeQuery({\n        query: OBTENER_CLIENTE,\n        data: {\n          obtenerClientes: [].concat(_toConsumableArray(obtenerClientes), [actualizarCliente])\n        }\n      });\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      actualizarCliente = _useMutation2[0];\n\n  var obtenerCliente = data === null || data === void 0 ? void 0 : data.obtenerCliente;\n  var validationSchema = Yup.object().shape({\n    cedula: Yup.string().min(1).max(10).required('Este campo es obligatorio'),\n    nombre: Yup.string().required('Este campo es obligatorio'),\n    direccion: Yup.string().required('Este campo es obligatorio'),\n    ciudad: Yup.string().required('Este campo es obligatorio'),\n    mail: Yup.string().email('Email no válido').required('Este campo es obligatorio'),\n    telefono: Yup.number().required('Este campo es obligatorio')\n  });\n\n  var actualizarInfoCliente = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values, helpers) {\n      var cedula, nombre, direccion, ciudad, mail, telefono, input, errorMessage;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              cedula = values.cedula, nombre = values.nombre, direccion = values.direccion, ciudad = values.ciudad, mail = values.mail, telefono = values.telefono;\n              input = {\n                cedula: cedula,\n                nombre: nombre,\n                direccion: direccion,\n                ciudad: ciudad,\n                mail: mail,\n                telefono: telefono\n              };\n              _context.prev = 2;\n              _context.next = 5;\n              return actualizarCliente({\n                variables: {\n                  id: id,\n                  input: input\n                }\n              });\n\n            case 5:\n              Swal.fire('Actualizado', 'El cliente se actualizo correctamente', 'success');\n              helpers.setSubmitting(false);\n              router.push('/');\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              errorMessage = _context.t0.message.replace('Graphql error: ', '');\n              Swal.fire('Error', errorMessage, 'error');\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n\n    return function actualizarInfoCliente(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  if (loading) return 'Cargando...';\n  if (error) return \"Error || \".concat(error.message);\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-2xl text-gray-800 font-light text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Editar Cliente\"), __jsx(\"div\", {\n    className: \"flex justify-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"w-full max-w-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, __jsx(Formik, {\n    enableReinitialize: true,\n    initialValues: obtenerCliente,\n    validationSchema: validationSchema,\n    onSubmit: function onSubmit(valores, helpers) {\n      actualizarInfoCliente(valores, helpers);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, function (_ref3) {\n    var values = _ref3.values,\n        errors = _ref3.errors,\n        handleBlur = _ref3.handleBlur,\n        handleChange = _ref3.handleChange,\n        handleSubmit = _ref3.handleSubmit,\n        touched = _ref3.touched,\n        isSubmitting = _ref3.isSubmitting;\n    return __jsx(\"form\", {\n      className: \"bg-white shadow-md px-8 pt-6 pb-8 mb-4\",\n      onSubmit: handleSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"nombre\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, \"Nombre Completo\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"nombre\",\n      type: \"text\",\n      placeholder: \"Nombre Cliente\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.nombre,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    })), touched.nombre && errors.nombre ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 23\n      }\n    }, errors.nombre)) : null, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"cedula\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, \"Numero de Cedula\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"cedula\",\n      type: \"text\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.cedula,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    })), touched.cedula && errors.cedula ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 23\n      }\n    }, errors.cedula)) : null, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"direccion\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \"Direccion\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"direccion\",\n      type: \"text\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.direccion,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    })), touched.direccion && errors.direccion ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 23\n      }\n    }, errors.direccion)) : null, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"mail\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, \"Email\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"mail\",\n      type: \"email\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.mail,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    })), touched.mail && errors.mail ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 23\n      }\n    }, errors.mail)) : null, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"telefono\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }, \"Tel\\xE9fono\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"telefono\",\n      type: \"number\",\n      placeholder: \"Tel\\xE9fono Cliente\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.telefono,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    })), touched.mail && errors.mail ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 23\n      }\n    }, errors.mail)) : null, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"ciudad\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }, \"Ciudad\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"ciudad\",\n      type: \"text\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.ciudad,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    })), touched.ciudad && errors.ciudad ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 23\n      }\n    }, errors.ciudad)) : null, __jsx(\"input\", {\n      disabled: isSubmitting,\n      type: \"submit\",\n      className: \"bg-gray-800 w-full mt-5 p-2 text-white uppercase font-bold hover:bg-gray-900\",\n      value: \"Editar Cliente\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 19\n      }\n    }));\n  }), \"\\xA0\")));\n}\n\n_s(EditarCliente, \"DFTfobEnZ5MowDQwdmM65JATMts=\", false, function () {\n  return [useRouter, useQuery, useMutation];\n});\n\n_c = EditarCliente;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditarCliente\");","map":{"version":3,"sources":["C:/Users/USER/Desktop/DGlamour/client/pages/editarcliente/[id].js"],"names":["useRouter","Layout","useQuery","useMutation","Formik","Yup","Swal","OBTENER_CLIENTE","ACTUALIZAR_CLIENTE","OBTENER_CLIENTES","EditarCliente","router","id","query","variables","data","loading","error","update","cache","actualizarCliente","readQuery","obtenerClientes","writeQuery","obtenerCliente","validationSchema","object","shape","cedula","string","min","max","required","nombre","direccion","ciudad","mail","email","telefono","number","actualizarInfoCliente","values","helpers","input","fire","setSubmitting","push","errorMessage","message","replace","valores","errors","handleBlur","handleChange","handleSubmit","touched","isSubmitting"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router';\r\nimport Layout from '../../component/Layout';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport Swal from 'sweetalert2';\r\nimport {\r\n  OBTENER_CLIENTE,\r\n  ACTUALIZAR_CLIENTE,\r\n  OBTENER_CLIENTES,\r\n} from '../../graphql/clientes';\r\n\r\nexport default function EditarCliente() {\r\n  const router = useRouter();\r\n  const id = router.query.id;\r\n  const { data, loading, error } = useQuery(OBTENER_CLIENTE, {\r\n    variables: { id },\r\n  });\r\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE, {\r\n    update(cache, { data: actualizarCliente }) {\r\n      const { obtenerClientes } = cache.readQuery({ query: OBTENER_CLIENTES });\r\n\r\n      cache.writeQuery({\r\n        query: OBTENER_CLIENTE,\r\n        data: { obtenerClientes: [...obtenerClientes, actualizarCliente] },\r\n      });\r\n    },\r\n  });\r\n  const obtenerCliente = data?.obtenerCliente;\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    cedula: Yup.string().min(1).max(10).required('Este campo es obligatorio'),\r\n    nombre: Yup.string().required('Este campo es obligatorio'),\r\n    direccion: Yup.string().required('Este campo es obligatorio'),\r\n    ciudad: Yup.string().required('Este campo es obligatorio'),\r\n    mail: Yup.string()\r\n      .email('Email no válido')\r\n      .required('Este campo es obligatorio'),\r\n    telefono: Yup.number().required('Este campo es obligatorio'),\r\n  });\r\n\r\n  const actualizarInfoCliente = async (values, helpers) => {\r\n    const { cedula, nombre, direccion, ciudad, mail, telefono } = values;\r\n    const input = { cedula, nombre, direccion, ciudad, mail, telefono };\r\n    try {\r\n      await actualizarCliente({ variables: { id, input } });\r\n      Swal.fire(\r\n        'Actualizado',\r\n        'El cliente se actualizo correctamente',\r\n        'success'\r\n      );\r\n      helpers.setSubmitting(false);\r\n      router.push('/');\r\n    } catch (error) {\r\n      const errorMessage = error.message.replace('Graphql error: ', '');\r\n      Swal.fire('Error', errorMessage, 'error');\r\n    }\r\n  };\r\n\r\n  if (loading) return 'Cargando...';\r\n  if (error) return `Error || ${error.message}`;\r\n\r\n  return (\r\n    <Layout>\r\n      <h1 className=\"text-2xl text-gray-800 font-light text-center\">\r\n        Editar Cliente\r\n      </h1>\r\n\r\n      <div className=\"flex justify-center mt-5\">\r\n        <div className=\"w-full max-w-lg\">\r\n          <Formik\r\n            enableReinitialize\r\n            initialValues={obtenerCliente}\r\n            validationSchema={validationSchema}\r\n            onSubmit={(valores, helpers) => {\r\n              actualizarInfoCliente(valores, helpers);\r\n            }}\r\n          >\r\n            {({\r\n              values,\r\n              errors,\r\n              handleBlur,\r\n              handleChange,\r\n              handleSubmit,\r\n              touched,\r\n              isSubmitting,\r\n            }) => {\r\n              return (\r\n                <form\r\n                  className=\"bg-white shadow-md px-8 pt-6 pb-8 mb-4\"\r\n                  onSubmit={handleSubmit}\r\n                >\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"nombre\"\r\n                    >\r\n                      Nombre Completo\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"nombre\"\r\n                      type=\"text\"\r\n                      placeholder=\"Nombre Cliente\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.nombre}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.nombre && errors.nombre ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.nombre}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"cedula\"\r\n                    >\r\n                      Numero de Cedula\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"cedula\"\r\n                      type=\"text\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.cedula}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.cedula && errors.cedula ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.cedula}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"direccion\"\r\n                    >\r\n                      Direccion\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"direccion\"\r\n                      type=\"text\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.direccion}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.direccion && errors.direccion ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.direccion}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"mail\"\r\n                    >\r\n                      Email\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"mail\"\r\n                      type=\"email\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.mail}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.mail && errors.mail ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.mail}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"telefono\"\r\n                    >\r\n                      Teléfono\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"telefono\"\r\n                      type=\"number\"\r\n                      placeholder=\"Teléfono Cliente\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.telefono}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.mail && errors.mail ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.mail}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"ciudad\"\r\n                    >\r\n                      Ciudad\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"ciudad\"\r\n                      type=\"text\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.ciudad}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.ciudad && errors.ciudad ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.ciudad}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <input\r\n                    disabled={isSubmitting}\r\n                    type=\"submit\"\r\n                    className=\"bg-gray-800 w-full mt-5 p-2 text-white uppercase font-bold hover:bg-gray-900\"\r\n                    value=\"Editar Cliente\"\r\n                  />\r\n                </form>\r\n              );\r\n            }}\r\n          </Formik>\r\n           \r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}