{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\DGlamour\\\\client\\\\component\\\\pedidos\\\\AsignarProductos.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react';\nimport Select from 'react-select';\nimport { useQuery } from '@apollo/client';\nimport PedidoContext from '../../context/pedidos/PedidoContex';\nimport { OBTENER_PRODUCTOS } from '../../graphql/productos';\nexport default function AsignarProductos() {\n  _s();\n\n  var _useState = useState([]),\n      productos = _useState[0],\n      setProductos = _useState[1];\n\n  var _useContext = useContext(PedidoContext),\n      agregarProducto = _useContext.agregarProducto,\n      actualizarTotal = _useContext.actualizarTotal;\n\n  var _useQuery = useQuery(OBTENER_PRODUCTOS),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  useEffect(function () {\n    if (productos === null) {\n      setProductos([]);\n      actualizarTotal();\n    } else {\n      agregarProducto(productos);\n      actualizarTotal();\n    }\n  }, [productos]);\n\n  var seleccionarProductos = function seleccionarProductos(productos) {\n    setProductos(productos);\n  };\n\n  if (loading) return null;\n  if (error) return null;\n  var obtenerProductos = data === null || data === void 0 ? void 0 : data.obtenerProductos;\n  return __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"mt-10 my-2 bg-white border-l-4 border-gray-800 text-gray-700 p-2 text-sm font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"1.- Asignar Productos\"), __jsx(Select, {\n    className: \"mt-3\",\n    isMulti: true,\n    options: obtenerProductos,\n    onChange: function onChange(opc) {\n      return seleccionarProductos(opc);\n    },\n    getOptionValue: function getOptionValue(opc) {\n      return opc.id;\n    },\n    getOptionLabel: function getOptionLabel(opc) {\n      return \"\".concat(opc.nombre, \"  |  Disponible: \").concat(opc.existencia);\n    },\n    placeholder: \"Seleccionar Productos\",\n    noOptionsMessage: function noOptionsMessage() {\n      return 'No hay resultados';\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(AsignarProductos, \"fXCHuDX2Xm4acdEn00z12TKL4mw=\", false, function () {\n  return [useQuery];\n});\n\n_c = AsignarProductos;\n\nvar _c;\n\n$RefreshReg$(_c, \"AsignarProductos\");","map":{"version":3,"sources":["C:/Users/USER/Desktop/DGlamour/client/component/pedidos/AsignarProductos.js"],"names":["React","useState","useEffect","useContext","Select","useQuery","PedidoContext","OBTENER_PRODUCTOS","AsignarProductos","productos","setProductos","agregarProducto","actualizarTotal","data","loading","error","seleccionarProductos","obtenerProductos","opc","id","nombre","existencia"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,OAAOC,aAAP,MAA0B,oCAA1B;AACA,SAASC,iBAAT,QAAkC,yBAAlC;AAEA,eAAe,SAASC,gBAAT,GAA4B;AAAA;;AAAA,kBACPP,QAAQ,CAAC,EAAD,CADD;AAAA,MAClCQ,SADkC;AAAA,MACvBC,YADuB;;AAAA,oBAEIP,UAAU,CAACG,aAAD,CAFd;AAAA,MAEjCK,eAFiC,eAEjCA,eAFiC;AAAA,MAEhBC,eAFgB,eAEhBA,eAFgB;;AAAA,kBAGRP,QAAQ,CAACE,iBAAD,CAHA;AAAA,MAGjCM,IAHiC,aAGjCA,IAHiC;AAAA,MAG3BC,OAH2B,aAG3BA,OAH2B;AAAA,MAGlBC,KAHkB,aAGlBA,KAHkB;;AAKzCb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIO,SAAS,KAAK,IAAlB,EAAwB;AACtBC,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACAE,MAAAA,eAAe;AAChB,KAHD,MAGO;AACLD,MAAAA,eAAe,CAACF,SAAD,CAAf;AACAG,MAAAA,eAAe;AAChB;AACF,GARQ,EAQN,CAACH,SAAD,CARM,CAAT;;AAUA,MAAMO,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACP,SAAD,EAAe;AAC1CC,IAAAA,YAAY,CAACD,SAAD,CAAZ;AACD,GAFD;;AAIA,MAAIK,OAAJ,EAAa,OAAO,IAAP;AACb,MAAIC,KAAJ,EAAW,OAAO,IAAP;AACX,MAAME,gBAAgB,GAAGJ,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEI,gBAA/B;AAEA,SACE,4BACE;AAAG,IAAA,SAAS,EAAC,oFAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAKE,MAAC,MAAD;AACE,IAAA,SAAS,EAAC,MADZ;AAEE,IAAA,OAAO,EAAE,IAFX;AAGE,IAAA,OAAO,EAAEA,gBAHX;AAIE,IAAA,QAAQ,EAAE,kBAACC,GAAD;AAAA,aAASF,oBAAoB,CAACE,GAAD,CAA7B;AAAA,KAJZ;AAKE,IAAA,cAAc,EAAE,wBAACA,GAAD;AAAA,aAASA,GAAG,CAACC,EAAb;AAAA,KALlB;AAME,IAAA,cAAc,EAAE,wBAACD,GAAD;AAAA,uBACXA,GAAG,CAACE,MADO,8BACmBF,GAAG,CAACG,UADvB;AAAA,KANlB;AASE,IAAA,WAAW,EAAC,uBATd;AAUE,IAAA,gBAAgB,EAAE;AAAA,aAAM,mBAAN;AAAA,KAVpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF;AAoBD;;GA3CuBb,gB;UAGWH,Q;;;KAHXG,gB","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport Select from 'react-select';\r\nimport { useQuery } from '@apollo/client';\r\nimport PedidoContext from '../../context/pedidos/PedidoContex';\r\nimport { OBTENER_PRODUCTOS } from '../../graphql/productos';\r\n\r\nexport default function AsignarProductos() {\r\n  const [productos, setProductos] = useState([]);\r\n  const { agregarProducto, actualizarTotal } = useContext(PedidoContext);\r\n  const { data, loading, error } = useQuery(OBTENER_PRODUCTOS);\r\n\r\n  useEffect(() => {\r\n    if (productos === null) {\r\n      setProductos([]);\r\n      actualizarTotal();\r\n    } else {\r\n      agregarProducto(productos);\r\n      actualizarTotal();\r\n    }\r\n  }, [productos]);\r\n\r\n  const seleccionarProductos = (productos) => {\r\n    setProductos(productos);\r\n  };\r\n\r\n  if (loading) return null;\r\n  if (error) return null;\r\n  const obtenerProductos = data?.obtenerProductos;\r\n\r\n  return (\r\n    <>\r\n      <p className=\"mt-10 my-2 bg-white border-l-4 border-gray-800 text-gray-700 p-2 text-sm font-bold\">\r\n        1.- Asignar Productos\r\n      </p>\r\n\r\n      <Select\r\n        className=\"mt-3\"\r\n        isMulti={true}\r\n        options={obtenerProductos}\r\n        onChange={(opc) => seleccionarProductos(opc)}\r\n        getOptionValue={(opc) => opc.id}\r\n        getOptionLabel={(opc) =>\r\n          `${opc.nombre}  |  Disponible: ${opc.existencia}`\r\n        }\r\n        placeholder=\"Seleccionar Productos\"\r\n        noOptionsMessage={() => 'No hay resultados'}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}