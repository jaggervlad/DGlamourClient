{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\DGlamour\\\\client\\\\pages\\\\editarcliente\\\\[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Layout from '../../component/Layout';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport Swal from 'sweetalert2';\nimport { OBTENER_CLIENTE, ACTUALIZAR_CLIENTE } from '../../graphql/clientes';\nexport default function EditarCliente() {\n  const router = useRouter();\n  const id = router.query.id;\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(OBTENER_CLIENTE, {\n    variables: {\n      id\n    }\n  });\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\n  const validationSchema = Yup.object().shape({\n    nombre: Yup.string().required('El nombre del cliente es obligatorio'),\n    apellido: Yup.string().required('El apellido del cliente es obligatorio'),\n    empresa: Yup.string().required('El campo empresa  es obligatorio'),\n    email: Yup.string().email('Email no válido').required('El email del cliente es obligatorio')\n  });\n\n  const handleSubmit = async (values, helpers) => {\n    const {\n      nombre,\n      apellido,\n      empresa,\n      email,\n      telefono\n    } = values;\n    const input = {\n      nombre,\n      apellido,\n      empresa,\n      email,\n      telefono\n    };\n\n    try {\n      await actualizarCliente({\n        variables: {\n          id,\n          input\n        }\n      });\n      Swal.fire('Actualizado', 'El cliente se actualizo correctamente', 'success');\n      helpers.setSubmitting(false);\n      router.push('/');\n    } catch (error) {\n      const errorMessage = error.message.replace('Graphql error: ', '');\n      Swal.fire('Error', errorMessage, 'error');\n    }\n  };\n\n  if (loading) return 'Cargando...';\n  if (error) return `Error || ${error.message}`;\n  const {\n    obtenerCliente\n  } = data;\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-2xl text-gray-800 font-light text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Editar Cliente\"), __jsx(\"div\", {\n    className: \"flex justify-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"w-full max-w-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, __jsx(Formik, {\n    enableReinitialize: true,\n    initialValues: obtenerCliente,\n    validationSchema: validationSchema,\n    onSubmit: valores => {\n      actualizarInfoCliente(valores);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, ({\n    values,\n    errors,\n    handleBlur,\n    handleChange,\n    handleSubmit,\n    touched,\n    isSubmitting\n  }) => {\n    return __jsx(\"form\", {\n      className: \"bg-white shadow-md px-8 pt-6 pb-8 mb-4\",\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"nombre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, \"Nombre\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"nombre\",\n      type: \"text\",\n      placeholder: \"Nombre Cliente\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.nombre,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    })), touched.nombre && errors.nombre ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }\n    }, errors.nombre)) : null, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"apellido\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, \"Apellido\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"apellido\",\n      type: \"text\",\n      placeholder: \"Apellido Cliente\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.apellido,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    })), touched.apellido && errors.apellido ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 23\n      }\n    }, errors.apellido)) : null, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"empresa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, \"Empresa\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"empresa\",\n      type: \"text\",\n      placeholder: \"Empresa Cliente\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.empresa,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    })), touched.empresa && errors.empresa ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    }, errors.empresa)) : null, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, \"Email\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"email\",\n      type: \"email\",\n      placeholder: \"Email Cliente\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    })), touched.email && errors.email ? __jsx(\"div\", {\n      className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      className: \"font-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 23\n      }\n    }, \"Error\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    }, errors.email)) : null, __jsx(\"div\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"telefono\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, \"Tel\\xE9fono\"), __jsx(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"telefono\",\n      type: \"tel\",\n      placeholder: \"Tel\\xE9fono Cliente\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.telefono,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    })), __jsx(\"input\", {\n      disabled: isSubmitting,\n      type: \"submit\",\n      className: \"bg-gray-800 w-full mt-5 p-2 text-white uppercase font-bold hover:bg-gray-900\",\n      value: \"Editar Cliente\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 19\n      }\n    }));\n  }), \"\\xA0\")));\n}","map":{"version":3,"sources":["C:/Users/USER/Desktop/DGlamour/client/pages/editarcliente/[id].js"],"names":["useRouter","Layout","useQuery","useMutation","Formik","Yup","Swal","OBTENER_CLIENTE","ACTUALIZAR_CLIENTE","EditarCliente","router","id","query","data","loading","error","variables","actualizarCliente","validationSchema","object","shape","nombre","string","required","apellido","empresa","email","handleSubmit","values","helpers","telefono","input","fire","setSubmitting","push","errorMessage","message","replace","obtenerCliente","valores","actualizarInfoCliente","errors","handleBlur","handleChange","touched","isSubmitting"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router';\r\nimport Layout from '../../component/Layout';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport Swal from 'sweetalert2';\r\nimport { OBTENER_CLIENTE, ACTUALIZAR_CLIENTE } from '../../graphql/clientes';\r\n\r\nexport default function EditarCliente() {\r\n  const router = useRouter();\r\n  const id = router.query.id;\r\n  const { data, loading, error } = useQuery(OBTENER_CLIENTE, {\r\n    variables: { id },\r\n  });\r\n  const [actualizarCliente] = useMutation(ACTUALIZAR_CLIENTE);\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    nombre: Yup.string().required('El nombre del cliente es obligatorio'),\r\n    apellido: Yup.string().required('El apellido del cliente es obligatorio'),\r\n    empresa: Yup.string().required('El campo empresa  es obligatorio'),\r\n    email: Yup.string()\r\n      .email('Email no válido')\r\n      .required('El email del cliente es obligatorio'),\r\n  });\r\n\r\n  const handleSubmit = async (values, helpers) => {\r\n    const { nombre, apellido, empresa, email, telefono } = values;\r\n    const input = { nombre, apellido, empresa, email, telefono };\r\n    try {\r\n      await actualizarCliente({ variables: { id, input } });\r\n      Swal.fire(\r\n        'Actualizado',\r\n        'El cliente se actualizo correctamente',\r\n        'success'\r\n      );\r\n      helpers.setSubmitting(false);\r\n      router.push('/');\r\n    } catch (error) {\r\n      const errorMessage = error.message.replace('Graphql error: ', '');\r\n      Swal.fire('Error', errorMessage, 'error');\r\n    }\r\n  };\r\n\r\n  if (loading) return 'Cargando...';\r\n  if (error) return `Error || ${error.message}`;\r\n  const { obtenerCliente } = data;\r\n\r\n  return (\r\n    <Layout>\r\n      <h1 className=\"text-2xl text-gray-800 font-light text-center\">\r\n        Editar Cliente\r\n      </h1>\r\n\r\n      <div className=\"flex justify-center mt-5\">\r\n        <div className=\"w-full max-w-lg\">\r\n          <Formik\r\n            enableReinitialize\r\n            initialValues={obtenerCliente}\r\n            validationSchema={validationSchema}\r\n            onSubmit={(valores) => {\r\n              actualizarInfoCliente(valores);\r\n            }}\r\n          >\r\n            {({\r\n              values,\r\n              errors,\r\n              handleBlur,\r\n              handleChange,\r\n              handleSubmit,\r\n              touched,\r\n              isSubmitting,\r\n            }) => {\r\n              return (\r\n                <form\r\n                  className=\"bg-white shadow-md px-8 pt-6 pb-8 mb-4\"\r\n                  onSubmit={handleSubmit}\r\n                >\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"nombre\"\r\n                    >\r\n                      Nombre\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"nombre\"\r\n                      type=\"text\"\r\n                      placeholder=\"Nombre Cliente\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.nombre}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.nombre && errors.nombre ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.nombre}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"apellido\"\r\n                    >\r\n                      Apellido\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"apellido\"\r\n                      type=\"text\"\r\n                      placeholder=\"Apellido Cliente\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.apellido}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.apellido && errors.apellido ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.apellido}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"empresa\"\r\n                    >\r\n                      Empresa\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"empresa\"\r\n                      type=\"text\"\r\n                      placeholder=\"Empresa Cliente\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.empresa}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.empresa && errors.empresa ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.empresa}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"email\"\r\n                    >\r\n                      Email\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"email\"\r\n                      type=\"email\"\r\n                      placeholder=\"Email Cliente\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.email}\r\n                    />\r\n                  </div>\r\n\r\n                  {touched.email && errors.email ? (\r\n                    <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                      <p className=\"font-bold\">Error</p>\r\n                      <p>{errors.email}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label\r\n                      className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                      htmlFor=\"telefono\"\r\n                    >\r\n                      Teléfono\r\n                    </label>\r\n\r\n                    <input\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      id=\"telefono\"\r\n                      type=\"tel\"\r\n                      placeholder=\"Teléfono Cliente\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.telefono}\r\n                    />\r\n                  </div>\r\n\r\n                  <input\r\n                    disabled={isSubmitting}\r\n                    type=\"submit\"\r\n                    className=\"bg-gray-800 w-full mt-5 p-2 text-white uppercase font-bold hover:bg-gray-900\"\r\n                    value=\"Editar Cliente\"\r\n                  />\r\n                </form>\r\n              );\r\n            }}\r\n          </Formik>\r\n           \r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}